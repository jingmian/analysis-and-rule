# 属性

### 书

1. ID 
2. 书名
3. 作者
4. 出版社
5. 简介
6. 单价
7. 馆藏
8. 借阅册次
9. 借阅比

### 单册

1. 单册ID
3. 借阅状态
   * 已借
   * 未借
4. 续借状态
   * 已续借
   * 未续借
5. 借阅人ID
5. 逾期状态
   * 已逾期
   * 未逾期
6. 逾期时长
7. 存在状态
   * 未丢失
   * 丢失
8. 预约状态
   * 未预约
   * 已预约
9. 预约人ID
10. 入库时间
11. 借出时间
12. 应归还时间

### 图书分类

1. ID
2. 名称
3. 书目数量

附:

|  ID  |                     名称                     |
| :--: | :------------------------------------------: |
|  A   | 马克思主义、列宁主义、毛泽东思想、邓小平理论 |
|  B   |                  哲学、宗教                  |
|  C   |                 社会科学总论                 |
|  D   |                  政治、法律                  |
|  E   |                     军事                     |
|  F   |                     经济                     |
|  G   |            文化、科学、教育、体育            |
|  H   |                  语言、文字                  |
|  I   |                     文学                     |
|  J   |                     艺术                     |
|  K   |                  历史、地理                  |
|  N   |                 自然科学总论                 |
|  O   |                数理科学和化学                |
|  P   |               天文学、地球科学               |
|  Q   |                   生物科学                   |
|  R   |                  医药、卫生                  |
|  S   |                   农业科学                   |
|  T   |                   工业技术                   |
|  U   |                   交通运输                   |
|  V   |                  航空、航天                  |
|  X   |       环境科学、劳动保护科学(安全科学)       |
|  Z   |                  综合性图书                  |

### 用户

1. ID
2. 姓名
3. 身份
   - 本科生
   - 研究生
   - 教师
4. 密码
5. 账户状态
   - 正常
   - 注销
   - 冻结
   - 存在欠款
6. 登陆记录（只保留五次登陆记录）
   * 成功
   * 失败
7. 借阅单册的ID
8. 预约单册的ID
9. 逾期单册的ID
10. 总欠款
### 管理员

1. ID
2. 密码

### 图书馆

1. 用户数量
   - 本科生数量
   - 研究生数量
   - 教师数量
2. 公告
3. 新书推荐栏
   * 推荐书目
   * 推荐理由
4. 日历
   - 开馆日期
5. 逾期信息刷新时间

# 规则定义

### 变量规则定义

#### 书

- ID定义规则
  - 类型:string
  - 长度:7位
  - 定义:第一位为图书类型，后六位为编号，从000001开始，最高999999
    - eg:A000001
- 书名定义规则
  - 类型:string
  - 长度:50位以内(25个汉字或50个字母)
- 作者定义规则
  - 类型:string
  - 长度:30位以内(15个汉字或30个字母)
- 出版社定义规则
  - 类型:string
  - 长度:40位以内(20个汉字或40个字母)
- 简介定义规则
  - 类型:string
  - 长度:200位以内(100个汉字或200个字母)
- 图书单价定义规则
  - 类型:float
  - 单位:元
  - 保留位数:2位小数
    - eg:57.00
- 图书馆藏定义规则
  - 类型:int
  - 单位:册
  - 初始值:0
- 图书借阅册次定义规则
  - 类型:int
  - 单位:册次
  - 初始值:0
- 图书借阅比定义规则
  - 类型:float
  - 初始值:0
  - 定义:借阅次数/馆藏

#### 单册

- ID定义规则
  - 类型:string
  - 长度:9位
  - 定义:前七位为所属书ID，后两位为编号，从01开始,最高99
    - eg:A00000101
- 借阅状态定义规则
  - 类型:bool
  - 定义:true为已被借阅,false为未被借阅
  - 初始值:false
- 续借状态定义规则
  - 类型:bool
  - 定义:true为已被续借,false为未被续借
  - 初始值:false
- 逾期状态定义规则
  - 类型:bool
  - 定义:true为已逾期,false为未逾期
  - 初始值:false
- 逾期时长定义规则
  - 类型:int
  - 单位:天
  - 初始值:0
- 存在状态定义规则
  - 类型:bool
  - 定义:true为丢失,false为未丢失
  - 初始值:false
- 预约状态定义规则
  - 类型:bool
  - 定义:true为已预约,false为未预约
  - 初始值:false
- 时间类定义规则
  - 类型:tm
  - 初始值:1970:00:00

#### 图书分类

* 图书分类ID定义规则
  * 类型:char
  * 定义:参照属性中的附表
* 图书分类名称定义规则
  - 类型:string
  - 长度:50位以内(25个汉字)
  - 定义:参照属性中的附表
* 图书数量定义规则
  * 类型:int
  * 初始值:0

#### 用户

- 用户ID定义规则
  - 类型:string
  - 长度:7位
  - 定义:第一位为身份标准，1为本科生，2为研究生，3为教师；后六位为编号，从000001开始,最高999999
    - eg:本科生:1000001;研究生200001;教师300001
- 密码设置规则（包括修改密码和重置密码）
  - 位数:8-12位
  - 字符:数字、字母、特殊符号
  - 要求:最少包含一个数字和一个字母
- 身份定义规则
  - 类型:char
  - 定义:1为本科生，2为研究生，3为教师
- 姓名定义规则
  - 类型:string
  - 长度:20位以内(10个汉字或20个字母)
- 账户状态定义规则
  - 类型:char
  - 定义:1为正常，2为存在欠款，3为冻结，4为注销
  - 初始值:1
- 登陆记录定义规则
  - 类型:bool[5]
  - 定义:true为登陆成功，false为登陆失败
  - 初始值:true
- 单册ID管理定义规则
  - 类型:string[]
  - 定义:具体情况具体分析
- 总欠款定义规则
  - 类型:float
  - 单位:元
  - 保留位数:2位小数
    - eg:57.00
  - 初始值:0.00

#### 管理员

* 管理员ID定义规则
  - 类型:string
  - 长度:8位
  - 定义:系统随机生成
* 管理员密码设置规则(包括修改密码)
  - 位数:8-16位
  - 字符:数字、字母、特殊符号
  - 要求:最少包含一个数字和一个字母和一个特殊符号

#### 图书馆

* 用户数量定义规则
  * 类型:int[3]
  * 定义:[0]为本科生数量，[1]为研究生数量，[2]教师数量
  * 初始值:0
* 公告定义规则
  * 类型:string
  * 长度:1200位以内(600个汉字或1200个字母)
  * 初始值:NULL
* 新书推荐栏定义规则
  * 推荐书目
    * 类型:string[10]
    * 定义:每个数组装书的ID，ID不可相同
    * 初始值:A000000
  * 推荐理由
    * 类型:string[10]
    * 长度:每个string200位以内(100个汉字或200个字母)
    * 定义:每条string对应图书数组下标一致
    * 初始值:NULL
* 开馆日期定义规则
  * 类型:vector<tm>
  * 定义:每次vector压入的是闭馆日期
  * 初始值:NULL
* 逾期信息刷新时间
  * 类型:tm
  * 初始值:1970:00:00

### 其它规则

* 各类用户可同时借书数量
  * 不存在欠款
    * 本科生：6册
    * 研究生：8册
    * 教师：10册
  * 存在欠款
    * 所有人：不可继续借书
* 各类用户借书时长
  * 本科生：1月
  * 研究生：2月
  * 教师：3月
* 所有用户续借时长
  * 不存在欠款
    * 1月
  * 存在欠款
    * 不可续借
* 所有用户续借时间区间
  * 还书日期前十天
* 所有用户可续借次数
  * 1次/册
* 所有用户逾期费用
  * 前三天：0元/天
  * 之后：0.5元/天
* 各类用户可同时预约书数量
  * 不存在欠款
    * 本科生：2册
    * 研究生：3册
    * 教师：4册
  * 存在欠款
    * 所有用户：不可继续预约
* 所有图书预约保留时长
  * 3天
* 登陆输入密码连续五次错误，将冻结账号，需到管理员处重置密码解冻
* 图书丢失缴纳费用：
  - 图书定价
  - 逾期费用
* 逾期时间及欠款刷新
  - 用户或者管理员登陆时，无论登陆成功与否，都会与图书馆记录的上次刷新时间比对
    - 一致:无操作
    - 不一致:刷新所有用户逾期时间及欠款，修改系统刷新时间

